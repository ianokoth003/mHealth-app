{"ast":null,"code":"import React,{useState}from\"react\";import{uploadSync,listUnsynced}from\"../api/syncService\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SyncScreen(){const[status,setStatus]=useState(\"\");const[count,setCount]=useState(0);const doSync=async()=>{setStatus(\"Syncing...\");try{const res=await uploadSync();const l=await listUnsynced();setCount(l.length);setStatus(\"Sync done\");}catch(err){setStatus(\"Sync failed: \"+(err.message||\"\"));}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:12,background:\"#fff\",borderRadius:8,boxShadow:\"0 2px 6px rgba(0,0,0,.05)\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Manual Sync\"}),/*#__PURE__*/_jsx(\"button\",{onClick:doSync,children:\"Sync Now\"}),/*#__PURE__*/_jsxs(\"div\",{children:[status,\" \\u2014 Unsynced items left: \",count]})]});}","map":{"version":3,"names":["React","useState","uploadSync","listUnsynced","jsx","_jsx","jsxs","_jsxs","SyncScreen","status","setStatus","count","setCount","doSync","res","l","length","err","message","style","padding","background","borderRadius","boxShadow","children","onClick"],"sources":["C:/Users/Administrator/Downloads/mhealth/frontend/mobile-react/src/screens/SyncScreen.js"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport {uploadSync, listUnsynced} from \"../api/syncService\";\r\n\r\nexport default function SyncScreen(){\r\n  const [status,setStatus]=useState(\"\");\r\n  const [count,setCount]=useState(0);\r\n\r\n  const doSync = async ()=>{\r\n    setStatus(\"Syncing...\");\r\n    try {\r\n      const res = await uploadSync();\r\n      const l = await listUnsynced();\r\n      setCount(l.length);\r\n      setStatus(\"Sync done\");\r\n    } catch (err) {\r\n      setStatus(\"Sync failed: \" + (err.message || \"\"));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{padding:12, background:\"#fff\", borderRadius:8, boxShadow:\"0 2px 6px rgba(0,0,0,.05)\"}}>\r\n      <h3>Manual Sync</h3>\r\n      <button onClick={doSync}>Sync Now</button>\r\n      <div>{status} â€” Unsynced items left: {count}</div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAAQC,UAAU,CAAEC,YAAY,KAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5D,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAE,CAClC,KAAM,CAACC,MAAM,CAACC,SAAS,CAAC,CAACT,QAAQ,CAAC,EAAE,CAAC,CACrC,KAAM,CAACU,KAAK,CAACC,QAAQ,CAAC,CAACX,QAAQ,CAAC,CAAC,CAAC,CAElC,KAAM,CAAAY,MAAM,CAAG,KAAAA,CAAA,GAAU,CACvBH,SAAS,CAAC,YAAY,CAAC,CACvB,GAAI,CACF,KAAM,CAAAI,GAAG,CAAG,KAAM,CAAAZ,UAAU,CAAC,CAAC,CAC9B,KAAM,CAAAa,CAAC,CAAG,KAAM,CAAAZ,YAAY,CAAC,CAAC,CAC9BS,QAAQ,CAACG,CAAC,CAACC,MAAM,CAAC,CAClBN,SAAS,CAAC,WAAW,CAAC,CACxB,CAAE,MAAOO,GAAG,CAAE,CACZP,SAAS,CAAC,eAAe,EAAIO,GAAG,CAACC,OAAO,EAAI,EAAE,CAAC,CAAC,CAClD,CACF,CAAC,CAED,mBACEX,KAAA,QAAKY,KAAK,CAAE,CAACC,OAAO,CAAC,EAAE,CAAEC,UAAU,CAAC,MAAM,CAAEC,YAAY,CAAC,CAAC,CAAEC,SAAS,CAAC,2BAA2B,CAAE,CAAAC,QAAA,eACjGnB,IAAA,OAAAmB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBnB,IAAA,WAAQoB,OAAO,CAAEZ,MAAO,CAAAW,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CjB,KAAA,QAAAiB,QAAA,EAAMf,MAAM,CAAC,+BAAwB,CAACE,KAAK,EAAM,CAAC,EAC/C,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}